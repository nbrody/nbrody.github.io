<body>
<div id="control-panel" style="position: absolute; top: 10px; left: 10px; background: white; padding: 10px; border: 1px solid #ccc;">
  <label for="d-input">Enter squarefree positive integer d:</label>
  <input type="number" id="d-input" min="1" step="1">
  <br><br>
  <button onclick="onDrawButtonClick()">Draw Fundamental Domain</button>
</div>
<canvas id="fundamental-domain-canvas" width="800" height="600" style="border: 1px solid black; margin-top: 150px;"></canvas>

<script>
function onDrawButtonClick() {
  const d = parseInt(document.getElementById("d-input").value);
  if (isNaN(d) || d <= 0) {
    alert("Please enter a valid positive integer for d.");
    return;
  }
  if (!isSquareFree(d)) {
    alert("Please enter a squarefree integer.");
    return;
  }
  drawFundamentalDomain(d);
}

function isSquareFree(n) {
  for (let i = 2; i * i <= n; i++) {
    if (n % (i * i) === 0) return false;
  }
  return true;
}

function drawFundamentalDomain(d) {
  const canvas = document.getElementById("fundamental-domain-canvas");
  const ctx = canvas.getContext("2d");
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  // Placeholder: Replace with actual drawing logic
  ctx.fillText(`Drawing fundamental domain for PSL(2,O_${d})`, 50, 50);
}
</script>
</body>
