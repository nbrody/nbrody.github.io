<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O(1,1,x; Z[x]) Calculator</title>

    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Orthogonal Group Calculator</h1>
        <h2>O(1,1,x; Z[x]) where x = 2cos(2π/7)</h2>

        <div class="section info-section">
            <h3>About</h3>
            <p>This tool computes the orthogonal group O(1,1,x; Z[x]) where:</p>
            <ul>
                <li>x = 2cos(2π/7) is an algebraic number</li>
                <li>Z[x] is the ring of integers generated by x</li>
                <li>The quadratic form is Q(a,b,c) = a² + b² + xc² over Z[x]</li>
            </ul>
            <p>The minimal polynomial for x is: <span id="min-poly"></span></p>
            <p>Value of x ≈ <span id="x-value"></span></p>
        </div>

        <div class="section">
            <h3>Quadratic Form</h3>
            <p>Q(a, b, c) = a² + b² + xc² where (a, b, c) ∈ Z[x]³</p>
            <p>Matrix representation:</p>
            <div id="form-matrix"></div>
        </div>

        <div class="section">
            <h3>Generate Orthogonal Matrices</h3>
            <button id="generate-reflections" class="compute-button">Generate Basic Reflections</button>
            <button id="generate-rotations" class="compute-button">Generate Rotations</button>
            <button id="compute-group" class="compute-button">Compute Group Structure</button>
        </div>

        <div class="section output-section" id="reflections-section" style="display: none;">
            <h3>Basic Reflections</h3>
            <div id="reflections-output" class="output"></div>
        </div>

        <div class="section output-section" id="rotations-section" style="display: none;">
            <h3>Rotations (Products of Two Reflections)</h3>
            <div id="rotations-output" class="output"></div>
        </div>

        <div class="section output-section" id="group-section" style="display: none;">
            <h3>Group Structure</h3>
            <div id="group-output" class="output"></div>
        </div>

        <div class="section">
            <h3>Unit Circle Solutions: a² + xb² = 1</h3>
            <p>Find solutions to a² + xb² = 1 in Z[x]:</p>
            <p>Search range: <input type="number" id="unit-range" value="4" min="1" max="6"> (±range for each coefficient)</p>
            <button id="find-units" class="compute-button">Find Solutions</button>
            <button id="show-example-units" class="compute-button">Show Example Solutions</button>
            <button id="analyze-group" class="compute-button">Analyze Group Structure</button>
        </div>

        <div class="section output-section" id="units-section" style="display: none;">
            <h3>Solutions to a² + xb² = 1</h3>
            <div id="units-output" class="output"></div>
        </div>

        <div class="section output-section" id="group-structure-section" style="display: none;">
            <h3>Group Structure Analysis</h3>
            <div id="group-structure-output" class="output"></div>
        </div>

        <div class="section">
            <h3>Full Form Solutions: a² + b² + xc² = 1</h3>
            <p>Search for solutions with all three variables nonzero:</p>
            <p>Search range: <input type="number" id="full-range" value="3" min="1" max="4"> (±range for each coefficient)</p>
            <button id="find-full-solutions" class="compute-button">Find Solutions</button>
            <button id="analyze-all-nonzero" class="compute-button">Check for All-Nonzero-Coefficient Solutions</button>
        </div>

        <div class="section output-section" id="full-solutions-section" style="display: none;">
            <h3>Solutions to a² + b² + xc² = 1</h3>
            <div id="full-solutions-output" class="output"></div>
        </div>

        <div class="section">
            <h3>Quaternion Algebra Units: (-1, -x; Z[x])</h3>
            <p>Explore the unit group of the quaternion algebra with i² = -1, j² = -x, k = ij:</p>
            <button id="show-quaternion-intro" class="compute-button">Show Introduction</button>
            <button id="find-quaternion-units" class="compute-button">Find Small Units</button>
            <button id="analyze-quaternion-generators" class="compute-button">Analyze Generators</button>
        </div>

        <div class="section output-section" id="quaternion-section" style="display: none;">
            <h3>Quaternion Algebra Analysis</h3>
            <div id="quaternion-output" class="output"></div>
        </div>

        <div class="section">
            <h3>Custom Matrix Checker</h3>
            <p>Enter a 3×3 matrix to check if it's in O(1,1,x; Z[x]):</p>
            <div class="matrix-input">
                <table class="matrix-input-table">
                    <tr>
                        <td><input type="text" id="m00" placeholder="1"></td>
                        <td><input type="text" id="m01" placeholder="0"></td>
                        <td><input type="text" id="m02" placeholder="0"></td>
                    </tr>
                    <tr>
                        <td><input type="text" id="m10" placeholder="0"></td>
                        <td><input type="text" id="m11" placeholder="1"></td>
                        <td><input type="text" id="m12" placeholder="0"></td>
                    </tr>
                    <tr>
                        <td><input type="text" id="m20" placeholder="0"></td>
                        <td><input type="text" id="m21" placeholder="0"></td>
                        <td><input type="text" id="m22" placeholder="1"></td>
                    </tr>
                </table>
            </div>
            <button id="check-matrix" class="compute-button">Check Matrix</button>
            <div id="check-output" class="output"></div>
        </div>

        <div class="section info-section">
            <h3>Details</h3>
            <p><strong>Algebraic Number Field:</strong></p>
            <p>The number x = 2cos(2π/7) satisfies the minimal polynomial x³ + x² - 2x - 1 = 0.</p>
            <p>This gives us the cyclotomic field Q(ζ₇ + ζ₇⁻¹) where ζ₇ = e^(2πi/7).</p>

            <p><strong>Orthogonal Group:</strong></p>
            <p>O(1,1,x; Z[x]) consists of 3×3 matrices M with entries in Z[x] such that:</p>
            <p>M^T · diag(1, 1, x) · M = diag(1, 1, x)</p>
            <p>and det(M) = ±1</p>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
