<!DOCTYPE html>
<html>
<head>
    <title>Riley Slice Test</title>
</head>
<body>
    <h1>Riley Slice Test</h1>
    <canvas id="testCanvas" width="600" height="600" style="border: 2px solid black;"></canvas>

    <script src="polynomial.js"></script>
    <script src="rileyPolynomials.js"></script>
    <script>
        // Simple test
        console.log('Testing Riley Slice computation...');

        // Test that functions exist
        console.log('gcd exists:', typeof gcd);
        console.log('areFareyNeighbors exists:', typeof areFareyNeighbors);
        console.log('Polynomial exists:', typeof Polynomial);

        // Test polynomial computation
        const poly01 = getRileyPolynomial(0, 1);
        const poly11 = getRileyPolynomial(1, 1);
        console.log('Q(0/1):', poly01 ? poly01.toLatex() : 'null');
        console.log('Q(1/1):', poly11 ? poly11.toLatex() : 'null');

        // Test root finding
        if (poly01) {
            const P = poly01.add(Polynomial.fromConstant(2));
            console.log('P(0/1) = Q(0/1) + 2:', P.toLatex());
            const roots = P.findRoots();
            console.log('Roots:', roots);

            // Draw the roots
            const canvas = document.getElementById('testCanvas');
            const ctx = canvas.getContext('2d');

            // Draw axes
            ctx.strokeStyle = '#ccc';
            ctx.beginPath();
            ctx.moveTo(0, 300);
            ctx.lineTo(600, 300);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(300, 0);
            ctx.lineTo(300, 600);
            ctx.stroke();

            // Draw roots
            for (const root of roots) {
                const x = 300 + root.re * 100;
                const y = 300 - root.im * 100;
                ctx.fillStyle = 'blue';
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fill();
            }
        }
    </script>
</body>
</html>
