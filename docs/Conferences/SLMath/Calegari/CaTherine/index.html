<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jørgensen's Fibered Manifolds | Dirichlet Domain</title>

    <!-- MathJax for high-quality mathematical typesetting -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Import Map for Three.js and Addons -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <!-- External Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div id="container">
        <div id="info-panel">
            <span class="tag">Hyperbolic 3-Manifolds</span>
            <h1>Jørgensen's Fibered Manifolds</h1>

            <p>
                In 1978, <strong>Troels Jørgensen</strong> established a fundamental result in the topology of
                hyperbolic 3-manifolds by constructing explicit examples that <em>fiber over the circle</em>.
            </p>

            <div style="margin: 1.0rem 0; display: flex; align-items: center; gap: 10px;">
                <label for="n-input">Parameter \( n \):</label>
                <input type="number" id="n-input" value="2" step="0.1" min="1"
                    style="background: var(--surface); border: 1px solid var(--border); color: var(--text); padding: 5px 10px; border-radius: 4px; width: 50px;">
                <button class="btn" style="padding: 5px 10px;" onclick="updateN()">Update</button>
            </div>

            <div style="margin: 1.0rem 0; display: flex; align-items: center; gap: 10px;">
                <label for="face-count-input">Face Count:</label>
                <input type="number" id="face-count-input" value="64" step="4" min="1" max="256"
                    style="background: var(--surface); border: 1px solid var(--border); color: var(--text); padding: 5px 10px; border-radius: 4px; width: 50px;">
                <button class="btn" style="padding: 5px 10px;" onclick="updateFaceCount()">Apply</button>
            </div>

            <div id="depth-control" style="margin: 1.0rem 0; display: none; align-items: center; gap: 10px;">
                <label for="depth-input">Word Length:</label>
                <input type="number" id="depth-input" value="8" step="1" min="1" max="8"
                    style="background: var(--surface); border: 1px solid var(--border); color: var(--text); padding: 5px 10px; border-radius: 4px; width: 50px;">
                <button class="btn" style="padding: 5px 10px;" onclick="updateDepth()">Apply</button>
            </div>

            <div class="math-box" style="font-size: 0.85rem; line-height: 1.4;">
                <p style="color: var(--primary); font-weight: 600; margin-bottom: 0.5rem;">Parameter Definitions:</p>
                <ul style="padding-left: 1.2rem;">
                    <li>\( 2\psi = 1 + \sqrt{17 - 8 \cos(\pi/n)} \)</li>
                    <li>\( \rho = \frac{\sqrt{\psi+2} + \sqrt{\psi-2}}{2} \)</li>
                    <li>\( \lambda = \exp(i\pi/2n) \)</li>
                    <li>\( x = \frac{\sqrt{3-\psi} + i\sqrt{\psi+1}}{2\sqrt{\psi-2}} \)</li>
                    <li>\( y = \frac{-\sqrt{3-\psi} + i\sqrt{\psi+1}}{2\sqrt{\psi-2}} \)</li>
                </ul>
            </div>

            <div class="math-box">
                The group \( \Gamma \) is generated by \( T \) and \( X \):
                \[ T = \begin{pmatrix} \rho & 0 \\ 0 & \rho^{-1} \end{pmatrix}, \quad X = \begin{pmatrix} -\lambda x &
                -(1+x^2) \\ 1 & \lambda^{-1}x \end{pmatrix} \]
                The second generator of the fiber surface group \( \Sigma = \langle X, Y \rangle \) is:
                \[ Y = \begin{pmatrix} \lambda^{-1}y & \lambda^{-1}x(1+x^2)(\rho^2-1) \\ \lambda x(\rho^{-2}-1) &
                -\lambda y \end{pmatrix} \]
            </div>

            <p>
                The subgroup \( \Sigma = \langle X, Y \rangle \) is the fundamental group of a hyperbolic orbifold.
                The relations define the 3-manifold geometry:
            </p>

            <div class="math-box" style="font-size: 0.9rem;">
                <ul style="padding-left: 1.2rem;">
                    <li>\( [X, Y]^n=1 \).</li>
                    <li>\( TXT^{-1} = XY^{-1} \) and \( TYT^{-1} = YXY^{-1} \).</li>
                </ul>
            </div>

            <p>
                The visualization to the right depicts the <strong>Dirichlet Domain</strong> for the chosen \( n \)
                in the <strong>Poincaré Ball model</strong>. Each face represents the bisector between the origin and a
                group orbit point.
            </p>

            <p>
                You can also toggle the <strong>Cayley Graph</strong> to see the orbit of the origin
                viewed as a graph with edges for the generators:
            <div style="display: flex; gap: 15px; font-size: 0.8rem; margin-top: 10px;">
                <span style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 12px; height: 12px; background: #38bdf8; border-radius: 2px;"></div> \( T \) -
                    Monodromy
                </span>
                <span style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 12px; height: 12px; background: #f472b6; border-radius: 2px;"></div> \( X \) -
                    Fiber
                </span>
                <span style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 12px; height: 12px; background: #fbbf24; border-radius: 2px;"></div> \( Y \) -
                    Fiber
                </span>
            </div>
            </p>

            <p>
                As we approach the boundary sphere, the complexity reveals the <em>limit set</em>. For fibered
                manifolds, the Cannon-Thurston map provides a continuous path from the boundary of the surface fiber
                that fills the entire sphere.
            </p>

        </div>

        <div id="viz-container">
            <div id="controls">
                <div id="isometry-controls" style="display: flex; gap: 8px; margin-right: 20px;">
                    <button class="btn" onclick="animateIsometry('T', event)">T</button>
                    <button class="btn" onclick="animateIsometry('X', event)">X</button>
                    <button class="btn" onclick="animateIsometry('Y', event)">Y</button>
                </div>
                <button class="btn" onclick="toggleAutoRotate()">Auto-Rotate</button>
                <button class="btn" onclick="resetCamera()">Reset View</button>
                <button class="btn" onclick="togglePolyhedron()">Polyhedron</button>
                <button class="btn" onclick="toggleCayley()">Cayley Graph</button>
            </div>
        </div>
    </div>

    <!-- Application Entry Point -->
    <script type="module" src="js/main.js"></script>
</body>

</html>