<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLSS Relation Search</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>FLSS Relation Search</h1>
            <p class="subtitle">Finding relations in \( PGL_2(\mathbb{F}_p(t)) \)</p>
        </header>

        <div class="main-content">
            <section class="about panel">
                <h2>About</h2>
                <div class="description">
                    <p>
                        Consider the subgroup \( \Gamma \leq
                        \mathsf{PGL}_2(\mathbb{Z}[t,\frac{1}{t},\frac{1}{t-1}]) \)
                        generated by the matrices:
                    </p>
                    <div class="large-math">
                        \[ a = \begin{pmatrix} t & 0 \\ 0 & 1 \end{pmatrix}, \quad b = \begin{pmatrix} t^2+1 & 2 \\ t &
                        1 \end{pmatrix} \]
                    </div>
                    <p>
                        These matrices provide a faithful representation of the fundamental group of an orbifold which
                        is a
                        torus with a single cone point of order 2. We then consider the map
                        \( \mathbb{Z}[t,\frac{1}{t},\frac{1}{t-1}]\to \mathbb{F}_p[t,\frac{1}{t},\frac{1}{t-1}]\), and
                        extend
                        it to a map between \(\mathsf{PGL}_2\), and look at the image of \(\Gamma\). Since the target
                        group
                        \(\mathsf{PGL}_2(\mathbb{F}_p[t,\frac{1}{t},\frac{1}{t},\frac{1}{t-1}])\) is a lattice in a
                        product of
                        three trees, then we obtain a proper action of \(\Gamma\) on a product of trees if the map
                        \(G\to \mathsf{PGL}_2(\mathbb{F}_p[t,\frac{1}{t},\frac{1}{t-1}])\) is faithful.
                        
                        Below, we explore words in the generators to find relations for various choices of \(p\).
                    </p>
                </div>
            </section>

            <section class="controls panel">
                <h2>Parameters</h2>
                <div class="input-grid">
                    <div class="input-group">
                        <label for="p">Modulus (p)</label>
                        <input type="number" id="p" value="3" min="2">
                    </div>
                    <div class="input-group">
                        <label for="beam">Beam Width</label>
                        <input type="number" id="beam" value="1000" min="10">
                    </div>
                    <div class="input-group">
                        <label for="depth">Max Depth</label>
                        <input type="number" id="depth" value="50" min="1">
                    </div>
                    <div class="input-group">
                        <label for="minlen">Min Length</label>
                        <input type="number" id="minlen" value="8" min="2">
                    </div>
                    <div class="input-group">
                        <label for="stop">Target Count</label>
                        <input type="number" id="stop" value="3" min="1">
                    </div>
                    <div class="input-group">
                        <label for="samples">Eval Samples</label>
                        <input type="number" id="samples" value="5" min="1">
                    </div>
                </div>
                <button id="solve-btn" class="primary-btn">Start Search</button>
                <button id="stop-btn" class="secondary-btn" disabled>Stop</button>
            </section>

            <section class="status-section">
                <div class="progress-container panel">
                    <h2>Progress</h2>
                    <div id="progress-stats" class="stats-grid">
                        <div class="stat-card">
                            <span class="label">Current Depth</span>
                            <span id="curr-depth" class="value">-</span>
                        </div>
                        <div class="stat-card">
                            <span class="label">Beam Size</span>
                            <span id="curr-beam" class="value">-</span>
                        </div>
                        <div class="stat-card">
                            <span class="label">Best Score</span>
                            <span id="best-score" class="value">-</span>
                        </div>
                    </div>
                    <div id="best-word-display" class="best-word">
                        <span class="label">Current Best Word:</span>
                        <code id="best-word">-</code>
                    </div>
                </div>

                <div class="log-panel panel">
                    <h2>Search Logs</h2>
                    <div id="logs" class="log-output"></div>
                </div>
            </section>

            <section class="results-section panel">
                <h2>Relations Found</h2>
                <div id="results-list" class="results-grid">
                    <!-- Results populated here -->
                </div>
            </section>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>